<script>
  $(document).ready(() => {
    const $NavP = $(".home-con .slide-con .bar-con p");
    const $NavBar = $(".home-con .slide-con .bar-con .bar");

    let timeLineWidth = 0;

    const currentTime = () => {
      timeLineWidth += 0.2;
      if (timeLineWidth > 100) {
        timeLineWidth = 100;
      }
      $NavBar.css({
        width: timeLineWidth + "%",
      });
    };

    const updateNavBar = (idx) => {
      timeLineWidth = 0;
      $NavP.eq(0).text(`0${idx + 1}`);
    };

    setInterval(currentTime, 10);

    var swiper = new Swiper(".home-con > .slide-con > .mySwiper", {
      loop: true,
      slidesPerView: 1,
      effect: "fade",
      autoplay: {
        delay: 5000,
      },
      navigation: {
        nextEl: ".home-con .slide-con .next",
        prevEl: ".home-con .slide-con .prev",
      },
      on: {
        slideChange: function () {
          updateNavBar(this.realIndex);
        },
      },
    });

    function updateNavigationButtons(swiper, con) {
      if (swiper.isBeginning) {
        $(`.home-con .${con} .prev`).addClass("disabled");
      } else {
        $(`.home-con .${con} .prev`).removeClass("disabled");
      }

      if (swiper.isEnd) {
        $(`.home-con .${con} .next`).addClass("disabled");
      } else {
        $(`.home-con .${con} .next`).removeClass("disabled");
      }
    }

    var swiper2 = new Swiper(".home-con > .con1 .mySwiper", {
      slidesPerView: 4,
      spaceBetween: 34,
      navigation: {
        nextEl: ".home-con .con1 .next",
        prevEl: ".home-con .con1 .prev",
      },
      on: {
        init: function () {
          updateNavigationButtons(this, "con1");
        },
        slideChange: function () {
          updateNavigationButtons(this, "con1");
        },
      },
    });

    var swiper3 = new Swiper(".home-con > .con2 .mySwiper", {
      slidesPerView: 3,
      spaceBetween: 34,
      navigation: {
        nextEl: ".home-con .con2 .next",
        prevEl: ".home-con .con2 .prev",
      },
      on: {
        init: function () {
          updateNavigationButtons(this, "con2");
        },
        slideChange: function () {
          updateNavigationButtons(this, "con2");
        },
      },
    });
  });
</script>

<section class="home-con">
  <article class="slide-con">
    <div class="swiper mySwiper">
      <div class="swiper-wrapper">
        <div class="swiper-slide bg1">
          <div class="text-box">
            <p>렉스이노베이션의 첨단 정보통신 기술이 재생에너지의 스마트 그리드화를 이끌어 갑니다.</p>
            <p>지속가능한 에너지 공급과 환경보호를 동시에 실현하는 기업</p>
          </div>
        </div>
        <div class="swiper-slide bg2">
          <div class="text-box">
            <p>친환경 미래기술을 선도하는 REC’s INNOVATION</p>
            <p>
              끊임없는 연구개발로 쌓아온 고도화된 기술력으로<br />
              더 나은 미래를 위한 솔루션을 제공합니다.
            </p>
          </div>
        </div>
        <div class="swiper-slide bg3">
          <div class="text-box">
            <p>청정 에너지로 우리의 미래를 밝혀나가는 길, 재생에너지의 힘과 혁신을 렉스이노베이션이 만들어갑니다.</p>
            <p>친환경 에너지를 통해 지구 환경을 보호하고 인류의 행복을 추구하는 기업</p>
          </div>
        </div>
        <div class="swiper-slide bg4">
          <div class="text-box">
            <p>대한민국의 바다 환경을 이용한 육상양어장에 소수력발전소를 건설합니다</p>
            <p>친환경 소수력발전소 100기 건설로 에너지자립을 선도하는 기업</p>
          </div>
        </div>
        <div class="swiper-slide bg5">
          <div class="text-box">
            <p>녹색금융 플랫폼 렉스펀드가 기후위기로부터 대한민국의 탄소중립을앞당기겠습니다.</p>
            <p>블록체인 기술을 활용한 Fintech 전문기업</p>
          </div>
        </div>
      </div>

      <div class="nav-con">
        <div class="bar-con">
          <p>01</p>
          <div class="bar-box">
            <div class="bar"></div>
          </div>
          <p>05</p>
        </div>
        <div class="nav-box">
          <img class="prev" src="/src/assets/images/icons/ico_prev01.png" alt="" />
          <img class="next" src="/src/assets/images/icons/ico_next01.png" alt="" />
        </div>
      </div>
    </div>
  </article>

  <article class="con con1">
    <div class="title-box">
      <p>
        렉스이노베이션은 지속 가능한 미래를 위해<br />
        새로운 가치를 찾고 있습니다
      </p>
      <div class="nav-box">
        <div class="img-box prev">
          <img src="/src/assets/images/icons/ico_prev02.png" alt="" />
        </div>
        <div class="img-box next">
          <img src="/src/assets/images/icons/ico_next02.png" alt="" />
        </div>
      </div>
    </div>

    <div class="swiper mySwiper">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
          <div class="text-box">
            <p>재생에너지 발전</p>
            <p>
              재생에너지 발전은 지구의 자연 자원을 보존하면서 전기를 생산하는 방법으로, 지속 가능한 발전 방식입니다.
            </p>
            <a href="#" class="more-box">
              <p>자세히보기</p>
            </a>
          </div>
          <div class="img-box">
            <img src="/src/assets/images/content/main/1_1.png" alt="" />
          </div>
        </div>

        <div class="swiper-slide">
          <div class="text-box">
            <p>VPP(가상발전소)</p>
            <p>VPP는 가상적으로 연결된 발전소로 여러 개별 에너지 생산 시스템이 하나의 통합 시스템으로 운영됩니다.</p>
            <a href="#" class="more-box">
              <p>자세히보기</p>
            </a>
          </div>
          <div class="img-box">
            <img src="/src/assets/images/content/main/1_2.png" alt="" />
          </div>
        </div>

        <div class="swiper-slide">
          <div class="text-box">
            <p>ESS(에너지저장시스템)</p>
            <p>ESS는 에너지 저장 시스템으로, 전력 그리드의 안정성과 신재생 에너지 통합에 기여하는 중요한 기술입니다.</p>
            <a href="#" class="more-box">
              <p>자세히보기</p>
            </a>
          </div>
          <div class="img-box">
            <img src="/src/assets/images/content/main/1_3.png" alt="" />
          </div>
        </div>

        <div class="swiper-slide">
          <div class="text-box">
            <p>Power to Vehicle(P2V)</p>
            <p>
              Power to Vehicle 은 차량에 전원을 공급하는 시스템으로 배터리에서 전기 에너지를 차량의 전기 시스템으로
              공급하여 모든 기능을 작동시킵니다.
            </p>
            <a href="#" class="more-box">
              <p>자세히보기</p>
            </a>
          </div>
          <div class="img-box">
            <img src="/src/assets/images/content/main/1_4.png" alt="" />
          </div>
        </div>

        <div class="swiper-slide">
          <div class="text-box">
            <p>DR (Demand Response)</p>
            <p></p>
            <a href="#" class="more-box">
              <p>자세히보기</p>
            </a>
          </div>
          <div class="img-box">
            <img src="/src/assets/images/content/main/1_2.png" alt="" />
          </div>
        </div>

        <div class="swiper-slide">
          <div class="text-box">
            <p>Fintech</p>
            <p></p>
            <a href="#" class="more-box">
              <p>자세히보기</p>
            </a>
          </div>
          <div class="img-box">
            <img src="/src/assets/images/content/main/1_2.png" alt="" />
          </div>
        </div>
      </div>
    </div>
  </article>

  <article class="con con2">
    <div class="title-box">
      <p>PRODUCTS</p>
      <div class="nav-box">
        <div class="img-box prev">
          <img src="/src/assets/images/icons/ico_prev02.png" alt="" />
        </div>
        <div class="img-box next">
          <img src="/src/assets/images/icons/ico_next02.png" alt="" />
        </div>
      </div>
    </div>

    <div class="swiper mySwiper">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
          <div class="text-box">
            <p>ESS</p>
            <p>SAVING POWER 5kw Home</p>
            <p>심야전기보일러 대상 요금 절약형 ESS 모델입니다.</p>
          </div>

          <img src="/src/assets/images/content/main/2_1.png" alt="" />
        </div>

        <div class="swiper-slide">
          <div class="text-box">
            <p>Renewable Energy</p>
            <p>유량변동대응 전력제어시스템</p>
            <p>소수력발전용</p>
          </div>

          <img src="/src/assets/images/content/main/2_2.png" alt="" />
        </div>

        <div class="swiper-slide">
          <div class="text-box">
            <p>EMS</p>
            <p>Sun-Q EMS S/W</p>
            <p>태양광발전소 모니터링 시스템</p>
          </div>

          <img src="/src/assets/images/content/main/2_3.png" alt="" />
        </div>

        <div class="swiper-slide">
          <div class="text-box">
            <p>ESS</p>
            <p>SAVING POWER 5kw Home</p>
            <p>심야전기보일러 대상 요금 절약형 ESS 모델입니다.</p>
          </div>

          <img src="/src/assets/images/content/main/2_1.png" alt="" />
        </div>
      </div>
    </div>
  </article>

  <article class="con con3">
    <div>
      <div class="title-box">
        <p><b>전력중개사업</b></p>
        <img src="/src/assets/images/icons/ico_arrow01.png" alt="" />
      </div>
      <p>
        비용 NO, 투자 NO!<br />
        기존 발전소 그대로 참여하면 새로운 수익 창출
      </p>
    </div>
    <div></div>
  </article>

  <article class="con con4">
    <h2>con4</h2>
  </article>

  <article class="con con5">
    <h2>con5</h2>
  </article>
</section>
